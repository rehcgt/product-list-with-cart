<MudDialog Class="pa-5">
    <TitleContent>
        <MudIcon Icon="@Icons.Material.Filled.CheckCircleOutline" Style="@($"color:{Colors.Red.Default}; font-size:3rem;")" />
        <MudText Typo="Typo.h4" Style="@($"color:{Colors.Gray.Darken4}; font-weight:bold")">Order Confirmed</MudText>
    </TitleContent>
    <DialogContent>
        <MudText Typo="Typo.subtitle1" Style="@($"color:{Colors.Gray.Default};")">We hope you enjoy your food!</MudText>
        @if (CartService.Items.Any())
        {
            <MudList T="string" Style="background-color: hsl(20, 50%, 98%);">
                @foreach (var item in CartService.Items)
                {
                    <MudListItem>
                        <AvatarContent>
                            <MudAvatar Square="true">
                                <MudImage Src="@item.Thumbnail" />
                            </MudAvatar>
                        </AvatarContent>
                        <ChildContent>
                            <MudText Style="@($"color:{Colors.Red.Default}; font-weight:bold;")">@item.ProductName</MudText>
                            <MudText HtmlTag="span" Style="@($"color:{Colors.Red.Default}; font-weight:bold;")">@item.Quantity</MudText>
                            <MudText HtmlTag="span" Style="@($"color:{Colors.Red.Default}; font-weight:bold;")">x</MudText>
                            <MudText HtmlTag="span" Class="mx-2"></MudText>
                            <MudText HtmlTag="span" Style="@($"color:{Colors.Gray.Default};")">@@</MudText>
                            <MudText HtmlTag="span" Style="@($"color:{Colors.Gray.Default};")">$@item.UnitPrice</MudText>
                            <MudText HtmlTag="span" Class="mx-6">$@(item.Quantity * item.UnitPrice)</MudText>
                            <MudDivider Class="mt-4" />
                        </ChildContent>
                    </MudListItem>
                }
            </MudList>
            <MudText Typo="Typo.h6" Class="my-5">Order Total: $@CartService.Items.Sum(i => i.Quantity * i.UnitPrice)</MudText>
        }
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled" Class="rounded-xl" Style="@($"background-color:{Colors.Red.Default}; color:{Colors.Gray.Lighten5}; width: 100%;")" OnClick="Submit">Start New Order</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    private MudDialogInstance MudDialog { get; set; }
    [Parameter]
    public CartStateService CartService { get; set; }

    private void Submit()
    {
        MudDialog.Close(DialogResult.Ok(true));
    }
}