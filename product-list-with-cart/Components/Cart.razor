<MudElement HtmlTag="div" Class="pa-4">
    <MudElement HtmlTag="h2" Style="font-weight:bold">Your Cart (@CartService.ItemsCount())</MudElement>
    @if (CartService.Items.Any())
    {
        <MudList T="string">
            @foreach (var item in CartService.Items)
            {
                <MudListItem>
                    <MudText>@item.ProductName x @item.Quantity - $@item.UnitPrice</MudText>
                </MudListItem>
            }
        </MudList>
        <MudText Typo="Typo.h6">Total: $@CartService.Items.Sum(i => i.Quantity * i.UnitPrice)</MudText>
    }
    else
    {
        <MudElement HtmlTag="div" Style="text-align: center;">
            <MudImage Width="150" Height="150" Src="/images/illustration-empty-cart.svg" />
            <MudText Style="font-weight: bold;">Your added items will appear here</MudText>
        </MudElement>
    }
</MudElement>

@code {
    [Inject]
    public CartStateService CartService { get; set; }
    protected override void OnInitialized()
    {
        CartService.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        CartService.OnChange -= StateHasChanged;
    }
}
